<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Unit Price Calculator</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 20px;
    background-color: #f2f2f2;
  }
  h1 {
    text-align: center;
    font-size: 28px;
    margin-bottom: 20px;
  }
  .section {
    background: #fff;
    padding: 20px;
    margin-bottom: 20px;
    border-radius: 12px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.15);
  }
  h2 {
    font-size: 24px;
    margin-bottom: 15px;
  }
  label {
    display: block;
    font-size: 20px;
    margin-bottom: 5px;
  }
  input {
    width: 100%;
    padding: 15px;
    font-size: 22px;
    margin-bottom: 15px;
    border-radius: 10px;
    border: 1px solid #ccc;
    box-sizing: border-box;
  }
  input[readonly] {
    background-color: #e6e6e6;
  }
  .result {
    font-size: 26px;
    font-weight: bold;
    margin-top: 15px;
    text-align: center;
    white-space: pre-line;
  }
  .green {
    color: green;
  }
</style>
</head>
<body>

<h1>Unit Price Calculator</h1>

<div class="section">
  <h2>Item 1</h2>
  <label for="price1">Price (£)</label>
  <input type="number" inputmode="decimal" step="any" id="price1" placeholder="e.g., 3.50" min="0">
  
  <label for="qty1">Quantity (g/ml)</label>
  <input type="number" inputmode="decimal" step="any" id="qty1" placeholder="e.g., 250" min="0">
  
  <label for="per100_1">Per 100 g/ml (£)</label>
  <input type="text" id="per100_1" readonly>
</div>

<div class="section">
  <h2>Item 2</h2>
  <label for="price2">Price (£)</label>
  <input type="number" inputmode="decimal" step="any" id="price2" placeholder="e.g., 3.80" min="0">
  
  <label for="qty2">Quantity (g/ml)</label>
  <input type="number" inputmode="decimal" step="any" id="qty2" placeholder="e.g., 250" min="0">
  
  <label for="per100_2">Per 100 g/ml (£)</label>
  <input type="text" id="per100_2" readonly>
</div>

<div class="result" id="result"></div>

<script>
window.onload = function() {
  // Focus first input on page load
  document.getElementById('price1').focus();

  // Real-time listeners for all inputs
  const inputs = ['price1', 'qty1', 'price2', 'qty2'];
  inputs.forEach(id => {
    const inputElem = document.getElementById(id);
    inputElem.addEventListener('input', () => {
      calculate();
      // Auto-hide keyboard after finishing Item 2 quantity
      if (id === 'qty2') {
        inputElem.blur();
      }
    });
  });
};

function calculate() {
  const price1 = parseFloat(document.getElementById('price1').value);
  const qty1 = parseFloat(document.getElementById('qty1').value);
  const price2 = parseFloat(document.getElementById('price2').value);
  const qty2 = parseFloat(document.getElementById('qty2').value);
  
  if (!price1 || !qty1 || !price2 || !qty2) {
    document.getElementById('result').textContent = '';
    document.getElementById('per100_1').value = '';
    document.getElementById('per100_2').value = '';
    return;
  }

  const per100_1 = (price1 / qty1) * 100;
  const per100_2 = (price2 / qty2) * 100;

  // Update per 100 boxes
  document.getElementById('per100_1').value = per100_1.toFixed(2);
  document.getElementById('per100_2').value = per100_2.toFixed(2);

  // Generate result message
  let line1 = `Item 1: £${per100_1.toFixed(2)} per 100`;
  let line2 = `Item 2: £${per100_2.toFixed(2)} per 100`;

  // Highlight cheaper item in green
  if (per100_1 < per100_2) line1 = `<span class="green">${line1}</span>`;
  else if (per100_2 < per100_1) line2 = `<span class="green">${line2}</span>`;
  else { line1 = `<span class="green">${line1}</span>`; line2 = `<span class="green">${line2}</span>`; }

  document.getElementById('result').innerHTML = `${line1}\n${line2}`;
}
</script>

</body>
</html>
